{{inject 'shippingCountryErrorMessage' (lang 'cart.shipping_estimator.empty_country_error')}}
{{inject 'shippingProvinceErrorMessage' (lang 'cart.shipping_estimator.empty_province_error')}}


<div id="adiv-shipping" class="shipping-estimator">
    <form class="form estimator-form" data-shipping-estimator>
        <div class="estimator-form__row">
            <div class="estimator-form__col">
                <div class="estimator-form-label">
                    <label class="form-label" for="shipping-country">{{lang 'cart.shipping_estimator.select_a_country'}}</label>
                </div>

                <div class="estimator-form-input">
                    <select class="form-select" id="shipping-country" name="shipping-country" data-field-type="Country">
                        <option>{{lang 'cart.shipping_estimator.select_a_country'}}</option>
                        {{#each countries}}
                            <option value="{{id}}" {{#if selected}}selected="selected"{{/if}}>
                                {{name}}
                            </option>
                        {{/each}}
                    </select>
                </div>
            </div>
            <div class="estimator-form__col">
                <div class="estimator-form-label">
                    <label class="form-label" for="shipping-state">{{lang 'cart.shipping_estimator.select_a_state'}}</label>
                </div>

                <div class="estimator-form-input">
                    {{#if states.length}}
                        <select class="form-select" id="shipping-state" name="shipping-state" data-field-type="State">
                            <option>{{lang 'cart.shipping_estimator.select_a_state'}}</option>
                            {{#each states}}
                                <option value="{{id}}" {{#if selected}}selected="selected"{{/if}}>
                                    {{name}}
                                </option>
                            {{/each}}
                        </select>
                    {{else}}
                        <input class="form-input" type="text" id="shipping-state" name="shipping-state" data-field-type="State" placeholder="{{lang 'cart.shipping_estimator.select_a_state'}}">
                    {{/if}}
                </div>
            </div>
        </div>
        <div class="estimator-form__row">
            <div class="estimator-form__col">
                <div class="estimator-form-label">
                    <label class="form-label" for="shipping-city">{{lang 'cart.shipping_estimator.suburb_city'}}</label>
                </div>
                <div class="estimator-form-input">
                    <input class="form-input" type="text" id="shipping-city" name="shipping-city" value="{{selected_city}}" placeholder="{{lang 'cart.shipping_estimator.suburb_city'}}">
                </div>
            </div>
            <div class="estimator-form__col">
                <div class="estimator-form-label">
                    <label class="form-label" for="shipping-zip">{{lang 'cart.shipping_estimator.zip_postal_code'}}</label>
                </div>
                <div class="estimator-form-input">
                    <input class="form-input" type="text" id="shipping-zip" name="shipping-zip" value="{{selected_zip}}" placeholder="{{lang 'cart.shipping_estimator.zip_postal_code'}}">
                </div>
            </div>
        </div>
        <button class="g-button g-button--primary button--small shipping-estimate-submit">{{lang 'cart.shipping_estimator.estimate_shipping'}}</button>
    </form>
    <div class="shipping-quotes" role="alert" aria-atomic="true" aria-live="assertive"></div>
</div>
